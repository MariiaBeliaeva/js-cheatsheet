<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--    normalize css -->
    <link rel="stylesheet" href="./assets/styles/normalize.css">

    <!-- materialize css -->
    <link rel="stylesheet" href="../node_modules/materialize-css/dist/css/materialize.css">

    <!--    project styles-->
    <link rel="stylesheet" href="./assets/dist/css/main.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./assets/libraries/highlights/styles/atom-one-light.min.css">
    <title>Объекты, прототивы, классы, конструкторы</title>
</head>

<body>
    <header class="header">
        <div class="header__container">
            <ul id="dropdown1" class="dropdown-content">
                <li><a href="api.html">API</a></li>
                <li><a href="arrays.html">Arrays</a></li>
                <li><a href="async.html">Async</a></li>
                <li><a href="dom.html">DOM</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="functions.html">Functions</a></li>
                <li><a href="glossary.html">Glossary</a></li>
                <li><a href="ifelse.html">If Else</a></li>
                <li><a href="prototypes.html">Prototypes</a></li>
                <li><a href="regular.html">Regular</a></li>
                <li><a href="string.html">String</a></li>
                <li><a href="this.html">this</a></li>
                <li><a href="timedate.html">TimeDate</a></li>
                <li><a href="types.html">Types</a></li>
                <li><a href="variables.html">Variables</a></li>
                <li><a href="web.html">Web</a></li>
            </ul>
            <nav>
                <div class="nav-wrapper teal lighten-1">
                    <a href="index.html" class="brand-logo left"><img src="./assets/icons8-cherry-100.png" alt="cherry"></a>
                    <ul class="right">
                        <li><a class="dropdown-trigger" href="#" data-target="dropdown1">Разделы:<i
                                class="material-icons right">arrow_drop_down</i></a></li>
                    </ul>
                </div>
            </nav>

        </div>
    </header>

    <main class="types-main__container">
        <h3>Объекты, прототивы, классы, конструкторы</h1>

            <section>
                <h4>Прототипы</h4>
                <p>
                    Каждый объект, имеет объект-прототип, который выступает как шаблон, от которого объект наследует методы и свойства. Объект-прототип так же может иметь свой прототип и наследовать его свойства и методы и так далее. Это часто называется цепочкой прототипов, «прототипным наследованием» и объясняет почему одним объектам доступны свойства и методы которые определены в других объектах.<br>
                    Точнее, свойства и методы определяются в свойстве prototype функции-конструктора объектов, а не в самих объектах.<br>                    
                </p>
                <p>
                    В JavaScript создаётся связь между экземпляром объекта и его прототипом (свойство __proto__, которое является производным от свойства prototype конструктора), а свойства и методы обнаруживаются при переходе по цепочке прототипов.
                </p>
                <p>
                    Свойство __proto__ объекта Object.prototype  является свойством доступа (комбинацией геттера и сеттера), которое расширяет внутренний прототип [[Prototype]] объекта (являющийся объектом или null), через который осуществлялся доступ.
                <p>
                    В примере ниже видно, что прототипом созданного объекта является Объект, и ребенку объекту доступны методы родителя объекта.   
                </p>

                <pre>
                    <code class="js">
let person = {
    name: 'Nicolas',
    age: 33,
}

// в консоли 
{name: 'Nicolas', age: 33}
age: 33
name: "Nicolas"
[[Prototype]]: Object
                    </code>
                </pre>

                <div>
                    <h5>"Работа" прототипа</h5>
                    <p>
                        Прототип идет сверху вниз. Если он на вернем уровне находит какое-то поле или функцию, он сразу же его показывает/вызывает. Если не находит, то обращается к прототипу и пытается найти что-то в нем и так далее по цепочке прототипов, пока не найдет метод, который нужно вызвать. 
                    </p>

                    <p>
                        Если мы пытваемся прочитать свойство объекта, либо вызвать метод, а его нет, то объект полезет искать его через ссылку __proto__ в  prototype класса, с помощью которого был создан (подробнее <a href="#proto">тут</a>).<br>
                        В примере ниже создаем новый объект и задаем ему поле на верхнем уровне.                        
                    </p>

                    <pre>
                        <code>
let person = {
    name: 'Nicolas',
    age: 33,
}

let lena = Object.create(person) 
// обращаемся к глобальному классу Object, у которого есть метод create, который создает новые объекты.
// в метод передаем объект, который будет являться прототипом для объекта lena.

lena.name = 'Elena' // задаем поле на верхнем уровне

console.log(lena.name) // Elena (нашел на этом уровне)
console.log(lena.age) // 33 (нашел на 2м уровне)                            
                        </code>
                    </pre>
                </div>

                <div>
                    <h5>Добавление метода</h5>
                    <p>
                        Если мы создали объект, у которого, например нет функции sayHi, тогда мы не сможем обратиться к ней как к методу через точку. Чтобы добавить метод, нужно обратиться к прототипу класса, от которого создан наш объект и задать ему новую функцию sayHi, после чего возможно вызвать метод sayHi. Т.о., можно сказать, что прототип - это объект, с помощью которого мы расширяем свойства объектов или классов.<br>
                        Пример ниже представлен в учебных в целях. В реальности расширение базовых прототипов (расширение Object.prototype) яляется плохой практикой.
                    </p>
                    <pre>
                        <code>
const person = {
    name: 'Nicolas',
    age: 33,
}

Object.prototype.sayHi = function () {
    console.log('Hi');
} // за счет этой конструкции расширили базовый прототип 
// класса Object и добавили в него новый метод

console.log(person.sayHi()) // Hi

                        </code>
                    </pre>
                </div>

                

                <div>
                    <h4>Конструкторы</h4>
                    <p>
                        Любой объект в JS создается с помощью функции-конструктора или класса. Стрелочная функция не может быть конструтором.
                        <br>
                        Если объект создается через new, то это явно, если помощью литерала {}, то это неявно, но за кадром браузерный движок все равно создает new Object, то есть используется класс Object. <br>
                        В JS есть и другие встроенные функции-конструкторы, они же классы: Object, Promise, Boolean, Number, String, Array, Function и др.                        
                    </p>
                    <p>
                        Когда вызывается new Object() (или создаётся объект с помощью литерала {...}), свойство [[Prototype]] этого объекта устанавливается на Object.prototype. В коде ниже наглядно видно, что переменная person является экземпляром (инстансом) класса Object. 
                    </p>

                    <pre>
                        <code class="js">
const person = new Object({
    name: 'Nicolas',
    age: 33,
})

console.log(person.__proto__ === Object.prototype)
                        </code>
                    </pre>

                    <div>
                        <h5>Функции и классы</h5>
                        <p>
                            При создании функции так же работает new Function()
                            <pre>
                                <code class="js">
function greet() {} // под капотом new Function()       
                                </code>
                            </pre>
                        </p>
                        
                        <p>
                            В JavaScript класс – это разновидность функции. Класс - это "синтаксический сахар" над ключевым словом function.
                            <h6>Синтакси</h6>
                            <pre>
                                <code>
class MyClass { // cоздаётcя функцию с именем MyClass   
    constructor() { ... } // метод constructor(), в нём мы можем инициализировать объект.
    method1() { ... } // cохраняет метод в MyClass.prototype.
}
// классы можно также создавать через Class Expression 
                                </code>
                            </pre>
                            <pre>
                                <code class="js">
class Cat {
    constructor(name) {
        this.name = name,
    }
} // под капотом new Function()

let cat1 = new Cat('Lili') // явно new Cat()
console.log(typeof Cat) // function
console.log(cat1) // Cat {name: 'Lili'}
console.log(Cat.prototype) // {constructor: ƒ, sayMeow: ƒ}, в прототипе конструктор и функция 
                                </code>
                            </pre>
                        </p>
                    </div>


                    <div>
                        Использование свойств и методов у примитивов также возможно как раз за счет прототипного наследования. Если к примитиву обратиться как к объекту (т.е. через точку), то в памяти ВРЕМЕННО для этого примитива создастся объектная версия (обертка) с помощью конструктора new, а свойства и методы станут доступными.  
                        <pre>
                            <code>
let num = 18 // под капотом new Number()
                            </code>

                        </pre>

                        <p>
                            Прототип можно узнать через свойство __proto__ у родителя нашего объекта,  это специальное свойство, которое является ссылкой на прототип объекта. 
                            <pre>
                                <code>
const a = 'string'
console.log(a.length) // 6

console.log(a.__proto__) // String {'', constructor: ƒ, anchor: ƒ, at: ƒ, big: ƒ, …}
// это прототип строки
        
                                </code>
                            </pre> 
                        </p>
                    </div>
                </div>

                <div id="proto">
                    <h4>__proto__ и Prototype</h4>
                    <p>
                        Оба являются свойствами объекта (доступ через точку). И __proto__ и Prototype являются объектами, но __proto__ ссылвается на Prototype.
                        
                        Любой объект имеет __proto__ и создается с помощью класса или function. __proto__  равно какому-то проnотипу, а прототип почти всегда объект.

                        Чтобы понимать что это за __proto__, нужно точно знать с помощью какой функции-конструктора (класса) создан данный объект (new XXX()).
                        <pre>
                            <code>
const obj = {} // obj.__proto__
const num = 2 // num.__proto__
function func() {} // func.__proto__
const f = () => {} // f.__proto__
class Cls {} // Cls.__proto__

                            </code>
                        </pre>

                        <p>
                            Разные __proto__ разных по "типу" объектов - совершенно независимые разные объекты. У одинаковых по "типу" объектов - они равны, то есть это один и тот же объект.
                            <pre>
                                <code>
let man1 = {}
let man2 = {}
console.log(man1.__proto__ === man2.__proto__) 
// их __proto__ равны, эти объекты созданы с помощью 
одного и того же класса или функции-конструктора new Object()

let a = 1
let b = 100
console.log(a.__proto__ === b.__proto__) 
// их __proto__ равны, так как оба созданы с помощью new Number() 

console.log(a__proto__ != man1.__proto__) // их __proto__ не равны, 
a создано с помощью  new Number(), а man1 создано с помощью new Object()
                                </code>
                            </pre>

                            <p>
                                У всех функций, в том числе class, __proto__ равны.  
                                <pre>
                                    <code>
function greet() {} 
class YoutubeChanell {} 
console.log(greet.__proto__ === YoutubeChanell.__proto__)
                                    </code>
                                </pre>
                            </p>
                        </p>
                    </p>

                    <p>
                        Любой class или function имеет прототип. Нам нужно знать с помощью какого класса был создан тот или иной объект - для того чтобы  наш __proto__ мог связаться с прототипом того класса, с помощью которого он был создан.

                        Каждый прототип - это независимый объект с определенным набором свойств и методов

                        <pre>
                            <code>
function Greet() {} 
class YoutubeChanell {}

console.log(Greet.prototype)
console.log(YoutubeChanell.prototype)

// у встроенных классов тоже есть прототип
console.log(Object.prototype)
console.log(Number.prototype)
console.log(Array.prototype)
console.log(String.prototype)
console.log(Promise.prototype)
console.log(Function.prototype)
console.log(Boolean.prototype)

console.log(String.prototype !=Greet.prototype  )
                            </code>
                        </pre>

                    </p>

                    <p>
                        __proto__ объекта ссылается на prorotype класса (функции-конструктора), с помощью которой этот объект был создан (сконструирован), и __proto__ объекта равно прототипу того класса, с помощью которого этот объект создан. 
                        <pre>
                            <code>
let man1 = {}
console.log(man1.__proto__ === Object.prorotype) 

let a = 1            
console.log(a.__proto__ === Number.prorotype)      

console.log(chanel1.__proto__ === YoutubeChanell.prototype)

                            </code>
                        </pre>
                    </p>
                </div>
            </section>   





        <!-- <div class="row types-intro">
            <p>В JS 8 типов данных, из них 7 примитивных, так как их значениями могут быть только простые значения (строка, или число, др.). 8й тип - это объект (хранят коллекции данных или более сложные структуры).                        
            </p>
                
            <div id="dataCards" class="col m12 l12">
                <div class="row types-cards">
                    <div class="col s12 m6 l6">
                        <div class="card">
                            <div class="card-image waves-effect waves-block waves-light">
                                <img class="activator" src="./assets/images/string.png">
                            </div>
                            <div class="card-content card-content_color">
                                <span class="card-title activator white-text text-darken-4">Строка<i class="material-icons right">add_circle</i></span>
                                
                            </div>

                            <div class="card-reveal">
                                <span class="card-title card_title_big grey-text text-darken-4">String<i class="material-icons right">close</i></span>
                                <section>
                                    <h4>Прототипы</h4>
                                    <p>
                                        В JavaScript объекты имеют специальное скрытое свойство [[Prototype]], которое либо равно null, либо ссылается на другой объект. Этот объект называется «прототип».<br> Когда нужно прочитать свойство из object, а оно отсутствует, JavaScript автоматически берёт его из прототипа. В программировании такой механизм называется «прототипным наследованием». 
                                    </p>
                                    <p>
                                        Основная концепция прототипа в JavaScript заключается в том, что один объект может наследовать свойства и методы от другого. В JavaScript прототип можно рассматривать как проект, шаблон или базовый объект, содержащий методы, к которым может обратиться любой созданный экземпляр объекта.
                                    </p>
                                </section>                                       
                            </div>
                        </div>
                    </div>

                    <div class="col s12 m6 l6">
                        <div class="card">
                            <div class="card-image waves-effect waves-block waves-light">
                                <img class="activator" src="./assets/images/number.png">
                            </div>
                            <div class="card-content card-content_color">
                                <span class="card-title activator white-text text-darken-4">Число<i class="material-icons right">add_circle</i></span>
                                
                            </div>
                            <div class="card-reveal">
                                <span class="card-title card_title_big grey-text text-darken-4">Number<i class="material-icons right">close</i></span>
                                
                                
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row types-cards">
                    <div class="col s12 m6 l6">
                        <div class="card">
                            <div class="card-image waves-effect waves-block waves-light">
                                <img class="activator" src="./assets/images/bigint.png">
                            </div>
                            <div class="card-content card-content_color">
                                <span class="card-title activator white-text text-darken-4">Большое целое<i class="material-icons right">add_circle</i></span>
                                
                            </div>
                            <div class="card-reveal">
                                <span class="card-title card_title_big grey-text text-darken-4">BigInt<i class="material-icons right">close</i></span>
                                
                            </div>
                        </div>
                    </div>

                    <div class="col s12 m6 l6">
                        <div class="card">
                            <div class="card-image waves-effect waves-block waves-light">
                                <img class="activator" src="./assets/images/boolean.png">
                            </div>
                            <div class="card-content card-content_color">
                                <span class="card-title activator white-text text-darken-4">Булев тип<i class="material-icons right">add_circle</i></span>
                                
                            </div>
                            <div class="card-reveal">
                                <span class="card-title card_title_big grey-text text-darken-4">Boolean<i class="material-icons right">close</i></span>
                                                                       
                            </div>
                        </div>
                    </div>                               
                </div> 

                
                    
                                
            </div>
        </div> -->



                

                

           

            

        
        



    </main>

    <footer></footer>


    <script src="./assets/libraries/highlights/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="./assets/dist/js/main.js"></script>
</body>

</html>